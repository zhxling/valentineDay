<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>七夕情人节快乐</title>
  <link rel="stylesheet" type="text/css" href="css/index.css">
  <link rel="stylesheet" type="text/css" href="css/pageA.css">
  <link rel="stylesheet" type="text/css" href="css/pageB.css">
</head>
<body>
  <div id="content">
    <ul class="content_wrap">
      <li>
        <!-- 主背景 -->
        <div class="a_all_background">
          <div class="a_top_background"></div>
          <div class="a_middle_background"></div>
          <div class="a_bottom_background"></div>
        </div>

        <!-- 云 -->
        <div id="cloud">
          <div class="cloud_small"></div>
          <div class="cloud_big"></div>
        </div>

        <!-- 太阳 -->
        <div id="sun"></div>
      </li>
      <li>
        <!-- 主背景 -->
        <div class="b_background"></div>

        <!-- 商店 -->
        <div class="shop">
          <div class="door">
            <div class="door_left"></div>
            <div class="door_right"></div>
          </div>
        </div>
      </li>
      <li>3</li>
    </ul>
    <div id="boy" class="charector"></div>
    <div class="btn">开始</div>
    <div class="btnPause">暂停</div>
  </div>
</body>
<script src="lib/jquery.min.js"></script>
<script type="text/javascript" src="http://img.mukewang.com/down/55ac9ea30001ace700000000.js"></script>
<script src="js/swipe.js"></script>
<script src="js/boyWalk.js"></script>
<script type="text/javascript">
  $(document).ready(function () {
     var container = $("#content");
        var swipe = Swipe(container);
        var boy = BoyWalk();

        // 页面滚动到指定的位置
        function scrollTo(time, proportionX) {
            var distX = container.width() * proportionX;
            swipe.scrollTo(distX, time);
        }

        //临时调整页面
        swipe.scrollTo(container.width(),0);

        // 开门
        function doorAction(left,right,time){
          var doorLeft=$(".door_left");
          var doorRight=$(".door_right");

          var dfd=$.deferred;
          var count=2;

          doorLeft.transition({
              left:left
          },time,complete);
        }
    
        // 开始
        // $(".btn").click(function() { 
        //     // 让云动起来
        //     $(".cloud_small").addClass('smallCloudAnim');
        //     $(".cloud_big").addClass('bigCloudAnim');

        //     //让太阳动起来
        //     $("#sun").addClass('sunAnim');
        //     // 开始第一次走路
        //     boy.walkTo(2000, 0.2)
        //         .then(function() {
        //             // scrollTo(10000, 2)
        //             //第一次走路完成
        //             boy.setColor('red')
        //         })
        //         .then(function() {
        //             //第二次走
        //             return boy.walkTo(2000, 0.4)
        //         }).then(function() {
        //             //第二次走路完成
        //             boy.setColor('yellow')
        //         }).then(function() {
        //             //第三次走路
        //             return boy.walkTo(2000, 0.6)
        //         }).then(function() {
        //             //第三次走路完成
        //             boy.setColor('blue')
        //         });  
        // });

  })

</script>
</html>